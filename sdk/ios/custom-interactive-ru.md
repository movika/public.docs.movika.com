---
title: Пользовательские интерактивы
description: Пользовательские интерактивы
keywords: Пользовательские интерактивы
sort: 3
---

# Пользовательские интерактивы

В **MovikaSDK** доступны два типа взаимодействия с фильмом: _Кнопка_ и _Нажатие_ на область видео. Также кроме встроенных интерактивных взаимодействий доступна возможность добавлять свои собственные интерактивы в проекты.

Внутри _SDK_ создание интерактивов происходит через фабрики. Добавление пользовательских интерактивов происходит через стандартную реализацию **MKInteractivePlayer** и регистрацию в нем новых фабрик. Пользовательсике интерактивы имеют соственную реализацию вместо уже доступных.

### Добавьте свой интерактив так:

1) Обратитесь к объекту класса **MKDefaultsEventsContainer**
2) Вызовите метод _register_
3) В _register_ передайте тип интерактива (текстовый ключ, например: "fast_tap") и фабрику **MKEventViewFactory**
4) Фабрика **MKEventViewFactory** которую вы передадите будет генерировать компонент **MKEventView**
5) **MKEventView** это компонент с которым будет взаимодействовать пользователь в интерактивном фильме

[Пример](../../src/ios/custom/ViewController.txt) возможной реализации кастомного интерактива.

### MKEventView

Данный протокол отвечает главным образом за поведение и вид интерактива. Действия описываются в _eventResultCompletion_, а вид в переменной _view_ соответственно.
```
protocol MKEventView {
  // Передача результата взаимодействия пользователя с интерактивом.
  var eventResultCompletion: MKEventResultCompletion? { get set }
  
  // Вид кастомного интерактива
  var view: UIView? { get }

  // Метод, вызываемый в момент когда интерактив должен исчезнуть
  func eventViewWillDisappear()
}
``` 

### MKEventViewFactory

Данный протокол отвечает за создание нового типа фабрики, реализующий новый пользовательский интерактив
```
protocol MKEventViewFactory {
  // Метод, создающий новый тип фабрики
  func create(event: MKEvent, videoRect: CGRect) throws -> MKEventView?
}
```
___

Манифест - JSON файл с данными видео. В рамках SDK интерактивы именуются контейнерами. Манифест содержит информацию о контейнерах: типе, количестве, времени появления, угасания, действиях и т.д. К примеру, тип интерактивов указан в контейнерах в графе "type", там же и указыватся название кастомного интерактива. 

[Документация по манифесту](../android/custom-interactives-ru.md) 

