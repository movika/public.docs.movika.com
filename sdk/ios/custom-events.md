---
title: Пользовательские интерактивы
description: Пользовательские интерактивы
keywords: Пользовательские интерактивы
sort: 3
---

# Пользовательские интерактивы

1. Создается представление(интерактив), как правило наследуемое от UIView
2. Класс интерактива реализует протокол CustomEventViewProtocol
3. В конструктор интерактива передается структура InteractiveEvent содержащая основную информацию по интерактиву (время начала, время завершения, список доступных вариантов развития сюжета, тип и т.д.)

```
    public let id: Int
    public let chapterId: Int

    \\ Тип интерактива, для кастомных интерактивов всегда .custom
    public let type: InteractiveType

    \\ Для кастомных интерактивов может быть указанно любое значение, которое \\ будет идентифицировать ваш кастомный интерактив, например
    \\ "push_red_button"
    public let customType: String?

    \\ Время начала интерактива
    public let time: Double

    \\ Время черз которое интерактив будет убран со сцены
    public let timeout: Double

    \\ Дополнительные данные для встроенных интерактивов
    public let eventData: EventData

    \\ Заголовок интерактива
    public let header: String

    \\ Заголовок интерактива
    public let playbackType: PlaybackType

    \\ Передаются дополнительные данные для воспроизведения кастомного
    \\ интерактива
    public var tags: [String]?

```

4. В конструктор интерактива передается класс CustomEventResultDelegate позволяющий передать результат взаимодействия пользователя с интерактивом
5. Вызвав метод resultSelected(index: Int) интерактив передаст результат, после чего мгновенно будет удален со сцены
6. Если вам необходимо сначала передать результат после чего отобразить какую-то анимацию используйте методы resultSelected(index: Int, instantlyDetach: true), после завершения анимации метод detachFromParent()
7. Для создания кастомных интерактивов необходимо при создании контроллера плеера передать фабрику создающую исходя из customType определенный интерактив
8. Фабрика пользовательских интерактивов должны реализовать протокол CustomEventViewFactory.
