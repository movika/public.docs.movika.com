---
title: Доступ к истории интерактивов
description: Доступ к истории интерактивов
keywords: Доступ к истории интерактивов
sort: 4
---

В рамках **MovikaSDK** состояние прохождения интерактивного фильма находится в структуре **MKPlayerState**. В процессе работы с плеером может возникнуть необходимость использовать историю прохождения фильма в своем проекте, например, для сохранения выборов пользователем интерактивов или получения времени прохождения определенной главы. 

Просмотр и обновление истории взаимодействия пользователя с интерактивным фильмом происходит через реализацию делегата **MKPlayerDelegate** и вызова метода
```
func mkplayer(_ player: MKPlayer, didUpdate state: MKPlayerState)
```

*Через структуру **MKPlayerState** возможно получить следующую информацию о статусе интерактивного фильма:* 
1) ID Манифеста
2) Текущий ID главы
3) Текущее время на главе
4) ID следующей главы
5) Текущая история

Для того чтобы передать состояние интерактивному фильму, требуется на этапе иннциализации **MKInteractivePlayer** с помощью метода **setManifestAsset** передать **MKPlayerState** напрямую вторым аргументом.

# Иннициализация собственной истории
Также в рамках __SDK__ существует возможность создание структуры **MKPlayerState** не через делагаты, а напрямую через создание и заполнение структуры **History** и затем передачу ее в объект класса **MKPlayerState**, таким образом возможно создание состояния интерактивного видео по собственным данным.

(_Стоит быть внимательным в передаче *Chapter ID*, в случае передачи невалидного *ID*, произойдет __fatalError___ ) 